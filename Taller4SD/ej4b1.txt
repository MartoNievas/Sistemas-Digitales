.text
.global main
.global EsPotenciaDeDos

main:
    # Test1
    li a0, 1
    jal ra, EsPotenciaDeDos
    li a1, 1
    bne a0, a1, noFunciona

    # Test2
    li a0, 3
    jal ra, EsPotenciaDeDos
    li a1, 0
    bne a0, a1, noFunciona

    funciona:
        li a1, 1
        j fin
    noFunciona:
        li a1, 0
        j fin
    fin:
        j fin

EsPotenciaDeDos:
    addi sp, sp, -16 #Prologo
    sw ra, 0(sp) #Prologo

    beq a0, zero, no # a0 (parametro de funcion) = 0 entonces no es potencia de dos

    addi t0, a0, -1 # t0 = a0-1
    and  t1, a0, t0 # si a0 es potencia de 2, a0 and (a0 - 1) da 0
    bne  t1, zero, no # si res != 0 entonces no es potencia de dos

    li a0, 1
    j termina

no:
    li a0, 0

termina:
    lw ra, 0(sp) #Epilogo
    addi sp, sp, 16 #Epilogo
    ret 


#IDEA PARA SABER SI UN N° ES POTENCIA DE DOS EN BITS :
# Si x and (x - 1) == 0 y x ≠ 0, entonces x es potencia de 2.